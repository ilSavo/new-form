<!doctype html>
<html lang="us">
<head>
  <meta charset="utf-8">
  <title>jQuery UI Example Page</title>
  <!-- <link href="css/newform/jquery-ui-1.10.3.custom.css" rel="stylesheet"> -->
  <script src="js/jquery-1.9.1.js"></script>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <!-- <script src="js/jquery-ui-1.10.3.custom.js"></script> -->

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script>
  $(function() {
    $("#invia-form").on('click', function(e){
      e.preventDefault();
      var nome = $("#nome").val();
      var cognome = $("#cognome").val();
      var nomeagenzia = $("#nomeagenzia").val();
      var indirizzo = $("#indirizzo").val();
      var citta = $("#citta").val();
      var cap = $("#cap").val();
      var piva = $("#piva").val();
      var tel = $("#tel").val();
      var email = $("#email").val();
      var privacy1 = $("#privacy1").is(":checked");
      var privacy2 = $("#privacy2").is(":checked");
      if((nome == "") || (cognome == "") || (nomeagenzia == "") || (indirizzo == "") || (citta == "") || (cap == "") || (piva == "") || (tel == "") || (email == "")) { 
        alert("Compila tutti i campi");
        return false; 
      }
      if (!privacy1 || !privacy2 ) {
        alert("Non hai accettato le condizioni");
        return false;  
      };
      console.log("ciao!");

      $.ajax({
        url: "invia-dati.php",
        type: "post",
        dataType: "json",
        data: {
          nome: nome, 
          cognome: cognome,
          nomeagenzia: nomeagenzia,
          indirizzo: indirizzo,
          citta: citta,
          cap: cap,
          piva: piva,
          tel: tel,
          email: email,
          privacy1: privacy1,
          privacy2: privacy2
        },
        success: function(data){
          alert("Fatto!");
        }
      });

    });
    // $("#iscriviti").on("click", function(e){
    //   e.preventDefault();
    //   console.log("Ciao!");
    // });

    // $( "#dialog" ).dialog({
    //  autoOpen: false,
    //  width: 400,
      // buttons: [
      //  {
      //    text: "Ok",
      //    click: function() {
      //      $( this ).dialog( "close" );
      //    }
      //  },
      //  {
      //    text: "Cancel",
      //    click: function() {
      //      $( this ).dialog( "close" );
      //    }
      //  }
      // ]
    // });

    // custom jQ namespace
    // $('#dialog').dialog({ 
    //   // dialogClass: 'newform',
    //   modal: true,
    //   autoOpen: false, 
    //   width: 600,
    //   buttons: [
    //     // {
    //     //  text: "Ok",
    //     //  click: function() {
    //     //    $( this ).dialog( "close" );
    //     //  }
    //     // },
    //     {
    //       text: "Invia",
    //       click: function(){
    //         var $this = $(this);
    //         console.log("fatto...");
    //         $this.dialog("close");
    //       }
    //     },
    //     {
    //       text: "Cancel",
    //       click: function() {
    //         $( this ).dialog( "close" );
    //       }
    //     }
    //   ],
    //   'open': function () { 
    //     $('.ui-widget-overlay').wrap('<div class="newform"></div>'); 
    //     $('.ui-widget-overlay').parent().insertBefore($('#dialognewform'));
    //   }
    // });

    // Link to open the dialog
    // $( "#dialog-link" ).click(function( event ) {
    //   $( "#dialog" ).parent('.ui-dialog').wrap('<div class="newform" id="dialognewform"></div>');
    //   $( "#dialog" ).dialog('open');
    //   event.preventDefault();
    // });

    // Hover states on the static widgets
    // $( "#dialog-link, #icons li" ).hover(
    //  function() {
    //    $( this ).addClass( "ui-state-hover" );
    //  },
    //  function() {
    //    $( this ).removeClass( "ui-state-hover" );
    //  }
    // );
  });
  </script>
  
</head>
<body class="">

  <a href="#iscriviti" id="iscriviti">Iscriviti</a>
  <button type="button" data-toggle="modal" data-target="#myModal">Launch modal</button>

  <div class="modal hide in" id="myModal" aria-hidden="false" style="display: none;">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h4>Marco2 Savoia2</h4>
    </div>
    <div class="modal-body"><!--MODAL contenuto-->   
      <div class="row-fluid">
        <div class="span6">
          nome<br/>
          <input type="text" id="nome" style="width: 100%">
        </div>
        <div class="span6">
          cognome<br/>
          <input type="text" id="cognome" style="width: 100%">
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
          nome agenzia<br/>
          <input type="text" id="nomeagenzia" style="width: 100%">
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
          indirizzo fisico agenzia (via, piazza, etc.)<br/>
          <input type="text" id="indirizzo" style="width: 100%">
        </div>
      </div>

      <div class="row-fluid">
        <div class="span6">
          città<br/>
          <input type="text" id="citta" style="width: 100%">
        </div>
        <div class="span6">
          cap<br/>
          <input type="text" id="cap" style="width: 100%">
        </div>
      </div>

      <div class="row-fluid">
        <div class="span12">
          partita IVA<br/>
          <input type="text" id="piva" style="width: 100%">
        </div>
      </div>

      <div class="row-fluid">
        <div class="span6">
          numero di telefono<br/>
          <input type="text" id="tel" style="width: 100%">
        </div>
        <div class="span6">
          indirizzo email<br/>
          <input type="text" id="email" style="width: 100%">
        </div>
      </div>

      <div class="row-fluid">
        <div class="span1">
          <input type="checkbox" id="privacy1" value="privacy1ok">
        </div>
        <div class="span11">
          Ho letto ed accettato i termini e condizioni del presente contratto
        </div>
      </div>

      <div class="row-fluid">
        <div class="span1">
          <input type="checkbox" id="privacy2" value="privacy2ok">
        </div>
        <div class="span11">
          Con la sottoscrizione del presente Contratto, l’Affiliato dichiara di avere attentamente letto e compreso e di approvare specificatamente, ai sensi dell'Art. 1341 del Codice Civile i seguenti articoli: Articolo 2 (oggetto del Contratto); Articolo 4 (obblighi dell’Affiliato); Articolo 5 (Commissioni); Articolo 6 (Tasse – Oneri Fiscali); Articolo 7 (Durata - Recesso); Articolo 9 (Gestione del contenzioso); Articolo 10 (Profili di responsabilità); Articolo 14 (Cessione); Articolo 16 (Legge applicabile e foro competente).
        </div>
      </div>

    </div>
    <div class="modal-footer">
      <a href="#" data-dismiss="modal" class="btn">Close</a>
      <a href="#" id="invia-form" class="btn btn-primary">Save changes</a>
      <!-- <a href="#" class="btn brn-primary" id="btn-save">Save</a> -->
    </div>
  </div>


  <!-- <div class="newform">
    <a href="#" id="dialog-link" class="ui-state-default ui-corner-all">
      <span class="newform ui-icon ui-icon-newwin"></span>Open Dialog
    </a>
  </div> -->

  <!-- ui-dialog -->
  <!-- <div id="dialog" class="newform" title="Registrazione al programma speciale agenzie">
    compila il form con i tuoi dati per essere inserito nel database. 
Tutti i campi sono obbligatori
    <p>

      <form>
          <div style="float: left; width: 100%">
            <div style="float: left; width: 49%">
              <label for="name">Name</label>
              <input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all" />
            </div>
            <div style="float: left; width: 49%">
              <label for="email">Email</label>
              <input type="text" name="email" id="email" value="" class="text ui-widget-content ui-corner-all" />
            </div>
          </div>          
      </form>


    </p>
  </div> -->

</body>
</html>
